import React, { useState, useEffect } from 'react';
import { 
  Plus, Trash2, ChefHat, Loader2, X, 
  ChevronRight, Heart, ShoppingCart, Home, Check,
  Zap, Clock, Smile, Wand2, Share2,
  Settings, User, Flame, Sparkles, CheckCircle2, Circle,
  Download, ImageIcon, Crown, CreditCard, Users, Star, Leaf
} from 'lucide-react';
import { initializeApp } from 'firebase/app';
import { 
  getFirestore, collection, doc, onSnapshot, addDoc, updateDoc, deleteDoc, setDoc, query, orderBy
} from 'firebase/firestore';
import { 
  getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged 
} from 'firebase/auth';

const firebaseConfig = JSON.parse(__firebase_config);
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const appId = typeof __app_id !== 'undefined' ? __app_id : 'kitchen-pro-v1';
const apiKey = ""; 

const ALLERGY_OPTIONS = ["Glutenfri", "Laktosefri", "Nøttefri", "Vegansk", "Vegetar", "Lavkarbo"];

// Forslag til kategorier på hjemskjermen
const SUGGESTIONS = {
  popular: [
    { tittel: "Kremet Pasta Carbonara", beskrivelse: "En italiensk klassiker elsket av alle.", tid: "20 min", vanskelighetsgrad: "Enkel", ingredienser: ["Pasta", "Egg", "Pecorino", "Bacon"], instruksjoner: ["Kok pasta.", "Stek bacon.", "Bland egg og ost.", "Vend alt sammen."], imageUrl: "" },
    { tittel: "Hjemmelaget Taco", beskrivelse: "Fredagsfavoritten med en vri.", tid: "30 min", vanskelighetsgrad: "Enkel", ingredienser: ["Kjøttdeig", "Taco-krydder", "Lefser", "Salat"], instruksjoner: ["Stek kjøtt.", "Kutt grønnsaker.", "Varm lefser."], imageUrl: "" }
  ],
  simple: [
    { tittel: "Ostesmørbrød Deluxe", beskrivelse: "Når du vil ha noe godt, men enkelt.", tid: "10 min", vanskelighetsgrad: "Enkel", ingredienser: ["Brød", "Ost", "Skinke", "Sennep"], instruksjoner: ["Smør brødet.", "Legg på pålegg.", "Stek i panne eller jern."], imageUrl: "" }
  ],
  fast: [
    { tittel: "Wok med Kylling", beskrivelse: "Lynrask middag full av smak.", tid: "12 min", vanskelighetsgrad: "Enkel", ingredienser: ["Kylling", "Wok-mikst", "Soyasaus", "Nudler"], instruksjoner: ["Stek kylling.", "Tilsett grønnsaker.", "Bland inn nudler og saus."], imageUrl: "" }
  ],
  healthy: [
    { tittel: "Laksesalat med Avokado", beskrivelse: "Næringsrik og frisk lunsj eller middag.", tid: "15 min", vanskelighetsgrad: "Middels", ingredienser: ["Laks", "Salat", "Avokado", "Sitron"], instruksjoner: ["Stek laksen lett.", "Bland salaten.", "Topp med avokado."], imageUrl: "" }
  ]
};

const App = () => {
  const [user, setUser] = useState(null);
  const [activeTab, setActiveTab] = useState('kitchen');
  const [ingredients, setIngredients] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [favorites, setFavorites] = useState([]);
  const [shoppingList, setShoppingList] = useState([]);
  const [profile, setProfile] = useState({ allergies: [], isPro: false, servings: 2 });
  const [loading, setLoading] = useState(false);
  const [selectedRecipe, setSelectedRecipe] = useState(null);
  const [showPaywall, setShowPaywall] = useState(false);
  const [newShopItem, setNewShopItem] = useState('');

  useEffect(() => {
    const initAuth = async () => {
      if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
        await signInWithCustomToken(auth, __initial_auth_token);
      } else {
        await signInAnonymously(auth);
      }
    };
    initAuth();
    const unsubscribe = onAuthStateChanged(auth, setUser);
    return () => unsubscribe();
  }, []);

  useEffect(() => {
    if (!user) return;
    const unsubIng = onSnapshot(collection(db, 'artifacts', appId, 'users', user.uid, 'ingredients'), (s) => setIngredients(s.docs.map(d => ({ id: d.id, ...d.data() }))));
    const unsubFav = onSnapshot(collection(db, 'artifacts', appId, 'users', user.uid, 'favorites'), (s) => setFavorites(s.docs.map(d => ({ id: d.id, ...d.data() }))));
    const unsubShop = onSnapshot(collection(db, 'artifacts', appId, 'users', user.uid, 'shoppingList'), (s) => setShoppingList(s.docs.map(d => ({ id: d.id, ...d.data() }))));
    const unsubProfile = onSnapshot(doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'settings'), (d) => {
      if (d.exists()) setProfile(prev => ({ ...prev, ...d.data() }));
    });
    return () => { unsubIng(); unsubFav(); unsubShop(); unsubProfile(); };
  }, [user]);

  const generateAIImage = async (dishName) => {
    try {
      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          instances: { prompt: `Professional food photography of ${dishName}, top-down view, restaurant style, appetizing lighting.` },
          parameters: { sampleCount: 1 }
        })
      });
      const result = await response.json();
      return result.predictions?.[0] ? `data:image/png;base64,${result.predictions[0].bytesBase64Encoded}` : null;
    } catch (e) { return null; }
  };

  const generateRecipe = async () => {
    if (!profile.isPro && recipes.length >= 2) {
      setShowPaywall(true);
      return;
    }
    setLoading(true);
    const ingList = ingredients.map(i => i.name).join(', ');
    const prompt = `Lag en gourmetoppskrift for ${profile.servings} personer på norsk. Ingredienser tilgjengelig: ${ingList}. Allergier: ${profile.allergies.join(', ')}. Returner KUN JSON: { "tittel": "...", "beskrivelse": "...", "ingredienser": [], "instruksjoner": [], "tid": "...", "vanskelighetsgrad": "..." }`;
    
    try {
      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          contents: [{ parts: [{ text: prompt }] }],
          generationConfig: { responseMimeType: "application/json" }
        })
      });
      const data = await response.json();
      const recipe = JSON.parse(data.candidates[0].content.parts[0].text);
      recipe.imageUrl = await generateAIImage(recipe.tittel);
      setRecipes([recipe, ...recipes]);
    } catch (err) { console.error(err); } finally { setLoading(false); }
  };

  const toggleFavorite = async (recipe) => {
    const existing = favorites.find(f => f.tittel === recipe.tittel);
    if (existing) {
      await deleteDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'favorites', existing.id));
    } else {
      await addDoc(collection(db, 'artifacts', appId, 'users', user.uid, 'favorites'), recipe);
    }
  };

  const addShopItem = async (name) => {
    if (!name.trim()) return;
    await addDoc(collection(db, 'artifacts', appId, 'users', user.uid, 'shoppingList'), { 
      name: name.trim(), completed: false, createdAt: Date.now() 
    });
    setNewShopItem('');
  };

  const addAllToShopping = async (recipe) => {
    for (const ing of recipe.ingredienser) {
      await addDoc(collection(db, 'artifacts', appId, 'users', user.uid, 'shoppingList'), { 
        name: ing, completed: false, createdAt: Date.now() 
      });
    }
    setActiveTab('shopping');
    setSelectedRecipe(null);
  };

  const upgradeToPro = async () => {
    await setDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'settings'), { isPro: true }, { merge: true });
    setShowPaywall(false);
  };

  return (
    <div className="min-h-screen bg-[#020617] text-slate-200 pb-32 font-sans overflow-x-hidden">
      <header className="sticky top-0 z-30 bg-[#020617]/95 backdrop-blur-xl border-b border-white/5 px-6 py-4 flex justify-between items-center">
        <div className="flex items-center gap-3">
          <div className="bg-orange-500 p-2 rounded-xl shadow-lg shadow-orange-500/20">
            <ChefHat size={20} className="text-white" />
          </div>
          <h1 className="text-sm font-black tracking-widest uppercase">Kjøkkensjefen Pro</h1>
        </div>
        {!profile.isPro && (
          <button onClick={() => setShowPaywall(true)} className="flex items-center gap-2 px-3 py-1.5 rounded-full text-[10px] font-black bg-orange-500 text-white animate-pulse">
            <Crown size={12}/> OPPGRADER
          </button>
        )}
      </header>

      <main className="max-w-xl mx-auto px-4 mt-6">
        {activeTab === 'kitchen' && (
          <div className="space-y-8 pb-10">
            <div className="bg-slate-900/50 rounded-[32px] border border-white/5 p-6 text-left">
              <h2 className="text-lg font-bold mb-4 flex items-center gap-2 text-orange-400"><Sparkles size={18}/> Din magiske gryte</h2>
              <div className="flex gap-2 mb-4">
                <input 
                  onKeyPress={(e) => {
                    if (e.key === 'Enter' && e.target.value) {
                      addDoc(collection(db, 'artifacts', appId, 'users', user.uid, 'ingredients'), { name: e.target.value });
                      e.target.value = '';
                    }
                  }}
                  placeholder="Hva har du i skapet?" className="flex-1 bg-white/5 border border-white/5 rounded-2xl px-5 py-4 focus:outline-none focus:border-orange-500/50 transition-all"
                />
              </div>
              <div className="flex flex-wrap gap-2 mb-6 min-h-[40px]">
                {ingredients.map(ing => (
                  <div key={ing.id} className="bg-white/5 border border-white/10 px-3 py-1.5 rounded-xl flex items-center gap-2 text-xs font-bold animate-in zoom-in">
                    {ing.name} <X size={12} className="cursor-pointer text-orange-500" onClick={() => deleteDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'ingredients', ing.id))} />
                  </div>
                ))}
              </div>
              <button onClick={generateRecipe} disabled={loading || ingredients.length === 0} className="w-full bg-orange-600 py-4 rounded-2xl font-black text-sm shadow-xl shadow-orange-600/20 flex items-center justify-center gap-2 active:scale-95 transition-all">
                {loading ? <Loader2 className="animate-spin" /> : <><Wand2 size={18}/> LAG OPPSKRIFT</>}
              </button>
            </div>

            {/* Forslag Seksjoner */}
            <div className="space-y-8 text-left">
              <SuggestionSection title="Populære retter" icon={<Star size={16} className="text-yellow-400" />} items={SUGGESTIONS.popular} onOpen={setSelectedRecipe} />
              <SuggestionSection title="Enkle retter" icon={<Smile size={16} className="text-blue-400" />} items={SUGGESTIONS.simple} onOpen={setSelectedRecipe} />
              <SuggestionSection title="Raske retter" icon={<Zap size={16} className="text-orange-400" />} items={SUGGESTIONS.fast} onOpen={setSelectedRecipe} />
              <SuggestionSection title="Sunne retter" icon={<Leaf size={16} className="text-green-400" />} items={SUGGESTIONS.healthy} onOpen={setSelectedRecipe} />
            </div>

            {recipes.length > 0 && (
              <div className="space-y-4 text-left">
                <h3 className="text-[10px] font-black text-slate-500 uppercase tracking-widest px-2">Dine AI-Oppskrifter</h3>
                {recipes.map((r, i) => <RecipeCard key={i} recipe={r} onOpen={() => setSelectedRecipe(r)} />)}
              </div>
            )}
          </div>
        )}

        {activeTab === 'favorites' && (
          <div className="text-left space-y-6 animate-in fade-in">
            <h2 className="text-3xl font-black px-2">Ønskeliste</h2>
            {favorites.length === 0 ? (
              <div className="py-20 text-center opacity-30 flex flex-col items-center gap-4">
                <Heart size={48} />
                <p>Ingen lagrede favoritter ennå.</p>
              </div>
            ) : (
              <div className="space-y-4">
                {favorites.map((r) => <RecipeCard key={r.id} recipe={r} onOpen={() => setSelectedRecipe(r)} />)}
              </div>
            )}
          </div>
        )}

        {activeTab === 'shopping' && (
          <div className="text-left animate-in fade-in">
            <div className="flex justify-between items-center mb-6 px-2">
              <h2 className="text-3xl font-black">Handleliste</h2>
              {shoppingList.length > 0 && (
                <button 
                  onClick={() => shoppingList.forEach(item => deleteDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'shoppingList', item.id)))}
                  className="p-2 text-red-500 hover:bg-red-500/10 rounded-xl transition-all"
                >
                  <Trash2 size={20}/>
                </button>
              )}
            </div>
            
            <div className="flex gap-2 mb-6">
              <input 
                type="text" value={newShopItem} onChange={(e) => setNewShopItem(e.target.value)}
                onKeyPress={(e) => e.key === 'Enter' && addShopItem(newShopItem)}
                placeholder="Legg til i listen..." className="flex-1 bg-white/5 border border-white/5 rounded-2xl px-5 py-4 focus:outline-none"
              />
              <button onClick={() => addShopItem(newShopItem)} className="bg-orange-500 p-4 rounded-2xl shadow-lg shadow-orange-500/20"><Plus/></button>
            </div>

            <div className="space-y-3 pb-20">
              {shoppingList.map(item => (
                <div 
                  key={item.id} 
                  onClick={() => updateDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'shoppingList', item.id), { completed: !item.completed })}
                  className={`p-5 rounded-2xl border flex items-center gap-4 transition-all cursor-pointer ${item.completed ? 'bg-white/2 border-white/5 opacity-30' : 'bg-white/5 border-white/5'}`}
                >
                  {item.completed ? <CheckCircle2 className="text-green-500" /> : <Circle className="text-slate-700" />}
                  <span className={`font-bold ${item.completed ? 'line-through text-slate-500' : ''}`}>{item.name}</span>
                </div>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'profile' && (
          <div className="text-left space-y-8 animate-in fade-in">
            <h2 className="text-3xl font-black px-2">Min Profil</h2>
            <div className="bg-slate-900/50 rounded-[32px] border border-white/5 p-8 space-y-8">
              <section>
                <h3 className="text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2"><Users size={14}/> Porsjoner</h3>
                <div className="flex gap-2">
                  {[1, 2, 4, 6].map(n => (
                    <button key={n} onClick={() => setDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'settings'), { servings: n }, { merge: true })} className={`flex-1 py-4 rounded-2xl font-bold border transition-all ${profile.servings === n ? 'bg-orange-500 border-orange-500 text-white' : 'bg-white/5 border-white/5 text-slate-500'}`}>{n}</button>
                  ))}
                </div>
              </section>
              <section>
                <h3 className="text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4">Allergier & Kosthold</h3>
                <div className="grid grid-cols-2 gap-2">
                  {ALLERGY_OPTIONS.map(opt => (
                    <button key={opt} onClick={() => {
                      const newA = profile.allergies.includes(opt) ? profile.allergies.filter(x => x !== opt) : [...profile.allergies, opt];
                      setDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'settings'), { allergies: newA }, { merge: true });
                    }} className={`p-4 rounded-xl border text-xs font-bold text-left flex justify-between items-center ${profile.allergies.includes(opt) ? 'bg-orange-500/10 border-orange-500 text-orange-400' : 'bg-white/5 border-white/5 text-slate-500'}`}>
                      {opt} {profile.allergies.includes(opt) && <Check size={14}/>}
                    </button>
                  ))}
                </div>
              </section>
            </div>
          </div>
        )}
      </main>

      {/* Paywall Modal */}
      {showPaywall && (
        <div className="fixed inset-0 z-[100] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in">
          <div className="bg-slate-900 w-full max-w-sm rounded-[40px] p-8 border border-white/10 text-center relative">
            <button onClick={() => setShowPaywall(false)} className="absolute top-6 right-6 text-slate-500"><X/></button>
            <div className="bg-orange-500 w-16 h-16 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-orange-500/40">
              <Crown size={32} className="text-white" />
            </div>
            <h2 className="text-2xl font-black mb-2 text-white">Bli KjøkkenSjef Pro</h2>
            <p className="text-slate-400 text-sm mb-8">Lås opp ubegrensede oppskrifter og bildegenerering.</p>
            <button onClick={upgradeToPro} className="w-full bg-orange-600 py-5 rounded-3xl font-black text-lg shadow-xl">START PRO — 49,- / mnd</button>
          </div>
        </div>
      )}

      {/* Recipe Modal */}
      {selectedRecipe && (
        <div className="fixed inset-0 z-50 bg-[#020617] animate-in slide-in-from-bottom duration-500 overflow-y-auto">
          <div className="relative h-72">
            {selectedRecipe.imageUrl ? (
              <img src={selectedRecipe.imageUrl} className="w-full h-full object-cover" alt={selectedRecipe.tittel} />
            ) : (
              <div className="w-full h-full bg-slate-800 flex items-center justify-center"><ImageIcon className="opacity-10" size={48} /></div>
            )}
            <div className="absolute inset-0 bg-gradient-to-t from-[#020617] to-transparent"></div>
            <button onClick={() => setSelectedRecipe(null)} className="absolute top-6 left-6 p-3 bg-black/30 backdrop-blur-md rounded-full border border-white/10"><X/></button>
            <button 
              onClick={() => toggleFavorite(selectedRecipe)} 
              className={`absolute top-6 right-6 p-3 rounded-full backdrop-blur-md border border-white/10 ${favorites.some(f => f.tittel === selectedRecipe.tittel) ? 'bg-red-500/20 text-red-500 border-red-500/30' : 'bg-black/30 text-white'}`}
            >
              <Heart fill={favorites.some(f => f.tittel === selectedRecipe.tittel) ? "currentColor" : "none"} />
            </button>
          </div>
          <div className="p-8 text-left max-w-xl mx-auto">
            <h2 className="text-3xl font-black mb-4">{selectedRecipe.tittel}</h2>
            <div className="flex gap-4 mb-8">
               <div className="bg-white/5 p-4 rounded-2xl flex-1 text-center border border-white/5">
                 <span className="block text-[8px] text-slate-500 font-black uppercase tracking-widest mb-1">Tid</span>
                 <span className="font-bold text-orange-400">{selectedRecipe.tid}</span>
               </div>
               <div className="bg-white/5 p-4 rounded-2xl flex-1 text-center border border-white/5">
                 <span className="block text-[8px] text-slate-500 font-black uppercase tracking-widest mb-1">Nivå</span>
                 <span className="font-bold text-orange-400">{selectedRecipe.vanskelighetsgrad}</span>
               </div>
            </div>

            <button onClick={() => addAllToShopping(selectedRecipe)} className="w-full bg-white/5 border border-white/10 text-slate-200 py-5 rounded-3xl font-bold flex items-center justify-center gap-3 mb-10 active:scale-95 transition-all">
              <ShoppingCart size={18} className="text-orange-500" /> Legg alt i handleliste
            </button>

            <div className="space-y-8">
              <section>
                <h3 className="font-black text-[10px] text-slate-500 uppercase tracking-[0.2em] mb-4">Ingredienser</h3>
                <div className="grid grid-cols-1 gap-2">
                  {selectedRecipe.ingredienser.map((ing, i) => (
                    <div key={i} className="flex items-center gap-4 p-4 bg-white/5 rounded-2xl border border-white/5">
                      <div className="w-2 h-2 rounded-full bg-orange-500/50"></div>
                      <span className="text-sm font-medium">{ing}</span>
                    </div>
                  ))}
                </div>
              </section>
              <section className="pb-32">
                <h3 className="font-black text-[10px] text-slate-500 uppercase tracking-[0.2em] mb-4">Instruksjoner</h3>
                <div className="space-y-8">
                  {selectedRecipe.instruksjoner.map((step, i) => (
                    <div key={i} className="flex gap-6">
                      <span className="text-orange-500 font-black text-2xl">{i+1}</span>
                      <p className="text-slate-400 text-sm leading-relaxed">{step}</p>
                    </div>
                  ))}
                </div>
              </section>
            </div>
          </div>
        </div>
      )}

      {/* Main Navigation */}
      <nav className="fixed bottom-0 left-0 right-0 p-6 z-40 bg-gradient-to-t from-[#020617] via-[#020617] to-transparent">
        <div className="max-w-xs mx-auto bg-slate-900 border border-white/10 rounded-[40px] p-2 flex justify-around shadow-2xl">
          <NavBtn active={activeTab === 'kitchen'} onClick={() => setActiveTab('kitchen')} icon={<Home size={20}/>} />
          <NavBtn active={activeTab === 'favorites'} onClick={() => setActiveTab('favorites')} icon={<Heart size={20}/>} />
          <NavBtn active={activeTab === 'shopping'} onClick={() => setActiveTab('shopping')} icon={<ShoppingCart size={20}/>} />
          <NavBtn active={activeTab === 'profile'} onClick={() => setActiveTab('profile')} icon={<User size={20}/>} />
        </div>
      </nav>
    </div>
  );
};

const SuggestionSection = ({ title, icon, items, onOpen }) => (
  <section className="space-y-4">
    <div className="flex items-center gap-2 px-2">
      {icon}
      <h3 className="text-xs font-black uppercase tracking-widest text-slate-400">{title}</h3>
    </div>
    <div className="flex gap-4 overflow-x-auto pb-4 no-scrollbar snap-x px-2">
      {items.map((item, idx) => (
        <div key={idx} onClick={() => onOpen(item)} className="min-w-[240px] bg-slate-900/50 rounded-3xl border border-white/5 overflow-hidden snap-start active:scale-95 transition-all">
          <div className="h-32 bg-slate-800 flex items-center justify-center">
            {item.imageUrl ? <img src={item.imageUrl} className="w-full h-full object-cover" /> : <ImageIcon className="opacity-5" />}
          </div>
          <div className="p-4">
            <h4 className="font-bold text-sm mb-1">{item.tittel}</h4>
            <div className="flex justify-between items-center mt-2">
              <span className="text-[9px] font-black text-orange-500 uppercase">{item.tid}</span>
              <ChevronRight size={14} className="text-slate-600" />
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>
);

const RecipeCard = ({ recipe, onOpen }) => (
  <div onClick={onOpen} className="bg-slate-900/50 rounded-3xl border border-white/5 p-4 flex gap-4 items-center active:scale-98 transition-all">
    <div className="w-20 h-20 rounded-2xl bg-slate-800 overflow-hidden flex-shrink-0 flex items-center justify-center">
      {recipe.imageUrl ? <img src={recipe.imageUrl} className="w-full h-full object-cover" /> : <ImageIcon className="opacity-10" />}
    </div>
    <div className="flex-1">
      <h3 className="font-bold text-sm">{recipe.tittel}</h3>
      <p className="text-[10px] text-slate-500 mt-1 line-clamp-1">{recipe.beskrivelse}</p>
      <div className="flex gap-2 mt-2">
        <span className="text-[8px] font-black bg-orange-500/10 text-orange-400 px-2 py-0.5 rounded uppercase">{recipe.tid}</span>
        <span className="text-[8px] font-black bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded uppercase">{recipe.vanskelighetsgrad}</span>
      </div>
    </div>
    <ChevronRight size={16} className="text-slate-700" />
  </div>
);

const NavBtn = ({ active, onClick, icon }) => (
  <button onClick={onClick} className={`p-4 rounded-full transition-all ${active ? 'bg-orange-600 text-white shadow-lg shadow-orange-600/20' : 'text-slate-600 hover:text-slate-400'}`}>{icon}</button>
);

export default App;

